@startuml passenger_reservation

-> ReservationSystemFacadeImpl: createReservation(passenger:Passenger, flights: List<Flight>)
activate ReservationSystemFacadeImpl
ReservationSystemFacadeImpl -> Reservation : Initialize
activate Reservation

ReservationSystemFacadeImpl -> Reservation: getReservationCode()

ReservationSystemFacadeImpl -> Ticket: Initialize
activate Ticket
deactivate Ticket

ReservationSystemFacadeImpl -> Reservation: addTicket()
deactivate Reservation

ReservationSystemFacadeImpl -> Passenger: addReservation()
activate Passenger
deactivate Passenger

ReservationSystemFacadeImpl -> StorageHandler: addReservation
activate StorageHandler
ReservationSystemFacadeImpl -> StorageHandler: setTickets
deactivate StorageHandler

@enduml
